---
import type { HTMLTag, Polymorphic } from "astro/types";

type PropHelper<Tag extends HTMLTag> = Polymorphic<{
  as: Tag;
  appearance?: "primary" | "secondary";
}>;

type Props = PropHelper<"a" | "button">;

const {
  as: Tag = "button",
  appearance = "primary",
  "class:list": classList,
  class: className,
  ...props
} = Astro.props;
---

{/* @ts-expect-error */}
<Tag
  class:list={[
    {
      "rounded-full border-2 border-secondary px-5 py-2 transition-colors hover:border-primary hover:bg-primary/25":
        appearance === "primary",
    },
    classList,
    className,
  ]}
  {...props}
>
  <slot />
</Tag>
