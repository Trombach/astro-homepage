---
import type { HTMLTag, Polymorphic } from "astro/types";

type Props<Tag extends HTMLTag = "a" | "button"> = Polymorphic<{
  as: Tag;
  appearance?: "primary" | "secondary" | undefined;
}>;

const {
  as: Tag = "button",
  appearance = "primary",
  "class:list": classList,
  class: className,
  ...props
} = Astro.props;
---

{/* @ts-expect-error The polymorphic type helper behaves weirdly */}
<Tag
  class:list={[
    "rounded-full border px-5 py-2 transition-colors",
    { "hover:border-primary hover:bg-primary/25": appearance === "primary" },
    { "hover:bg-accent/50": appearance === "secondary" },
    classList,
    className,
  ]}
  {...props}
>
  <slot />
</Tag>
